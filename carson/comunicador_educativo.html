<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description"
    content="Comunicador Educativo para facilitar la comunicación en el aula. Incluye saludos, emociones, espacios escolares y más." />
  <title>Comunicador Educativo</title>
  <!--<link rel="stylesheet" href="../output.css">-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
</head>
<style>
  body {
    min-height: max(884px, 100dvh);
  }

  @media (max-width: 640px) {
    .main-mobile-padding {
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }

    .footer-mobile {
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }

    .header-mobile {
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }
  }

  img {
    filter: none !important;
  }

  @media (prefers-color-scheme: dark) {
    img {
      filter: none !important;
    }
  }

  .pictograma-btn {
    cursor: pointer;
  }

  .pictograma-btn:active {
    transform: scale(0.95);
  }

  .frase-picto {
    cursor: pointer;
  }

  .frase-picto:hover {
    outline: 2px solid #60a5fa;
  }
</style>

<body class="bg-slate-50 font-sans">

  <header class="sticky top-0 z-50 bg-white shadow p-4 flex items-center justify-between">
    <button title="VOLVER" aria-label="VOLVER" onclick="window.history.back()"
      class="text-slate-700 flex size-10 shrink-0 items-center justify-center rounded-full hover:bg-slate-100 active:bg-slate-200 transition-colors duration-200 ease-in-out">
      <svg fill="currentColor" height="24px" viewBox="0 0 256 256" width="24px" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z">
        </path>
      </svg>
    </button>
    <div class="flex items-center flex-1 justify-center gap-2">
      <img src="../img/logo/LogoSinFondo.png" alt="Logo" class="w-10 h-10 object-contain" />
      <h1 class="font-bold text-base sm:text-lg md:text-xl text-slate-800">INSTITUTO CARSON</h1>
    </div>
    <button id="btn-expandir-todo" title="EXPANDIR/CONTRAER TODO"
      class="text-indigo-600 flex size-10 items-center justify-center rounded-full hover:bg-indigo-50 transition">
      <span class="material-icons-round text-2xl" id="icon-expandir-todo">unfold_more</span>
    </button>
    <a href="../texto_chat.html" title="HABLA/ESCUCHA"
      class="text-indigo-600 flex size-10 items-center justify-center rounded-full hover:bg-indigo-50 transition">
      <span class="material-icons-round text-2xl">mic</span>
    </a>
    <div class="w-10"></div>
  </header>

  <main class="p-4 space-y-4 pb-28">

    <!-- ZONA DE CONSTRUCCIÓN (Fijo para que esté siempre visible) -->
    <section
      class="sticky top-[72px] z-40 mb-6 bg-indigo-50 py-3 shadow-md rounded-xl border border-indigo-100 -mx-2 px-2 sm:mx-0 sm:px-0">
      <div id="frase-construida"
        class="flex flex-row gap-2 p-3 bg-white border-2 border-indigo-300 rounded-lg h-24 shadow-inner overflow-x-auto scrollbar-thin scrollbar-thumb-indigo-300 mx-2">
      </div>
      <div class="flex gap-2 mt-2 px-2 justify-center sm:justify-start">
        <button id="btn-reproducir-frase"
          class="bg-indigo-600 text-white px-4 py-2 rounded-lg shadow hover:bg-indigo-700 flex items-center gap-2 transition text-sm font-semibold active:scale-95">
          <span class="material-icons-round text-lg">play_arrow</span> Reproducir
        </button>
        <button id="btn-borrar-frase"
          class="bg-white text-gray-700 border border-gray-300 px-4 py-2 rounded-lg shadow-sm hover:bg-gray-50 flex items-center gap-2 transition text-sm font-medium active:scale-95">
          <span class="material-icons-round text-lg">delete</span> Borrar
        </button>
      </div>
    </section>

    <!-- PALABRAS PARA FRASES -->
    <section class='mb-4'>
      <button type="button"
        class="w-full flex items-center justify-between px-4 py-3 rounded-xl bg-indigo-100 text-indigo-700 font-semibold text-lg mb-3 transition hover:bg-indigo-200 focus:outline-none shadow-sm"
        data-toggle="collapse" data-target="#panel-palabras">
        <span class="flex items-center">
          <span class="material-icons-round mr-2 text-indigo-500 text-3xl">chat</span>
          PALABRAS PARA FRASES
        </span>
        <span class="material-icons-round transition-transform" id="icon-palabras">expand_more</span>
      </button>
      <div id="panel-palabras" class="transition-all duration-300 overflow-hidden" style="max-height:0;">
        <div class="flex flex-wrap gap-2 justify-center sm:justify-start">
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="ESTOY">
            <span class="material-icons-round text-3xl text-indigo-400">person</span><span
              class="text-xs font-medium">ESTOY</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="QUIERO">
            <span class="material-icons-round text-3xl text-indigo-400">star</span><span
              class="text-xs font-medium">QUIERO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="NO QUIERO" data-img="../img/yo no quiero.png">
            <img src="../img/yo no quiero.png" class="w-8 h-8 object-contain mb-1" /><span
              class="text-xs font-medium">NO QUIERO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="A">
            <span class="material-icons-round text-3xl text-indigo-400">A</span><span
              class="text-xs font-medium">A</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="CON">
            <span class="material-icons-round text-3xl text-indigo-400">group</span><span
              class="text-xs font-medium">CON</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="Y">
            <span class="material-icons-round text-3xl text-indigo-400">Y</span><span
              class="text-xs font-medium">Y</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="DE">
            <span class="material-icons-round text-3xl text-indigo-400">DE</span><span
              class="text-xs font-medium">DE</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="UN">
            <span class="material-icons-round text-3xl text-indigo-400">UN</span><span
              class="text-xs font-medium">UN</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="UNA">
            <span class="material-icons-round text-3xl text-indigo-400">UNA</span><span
              class="text-xs font-medium">UNA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="MI">
            <span class="material-icons-round text-3xl text-indigo-400">MI</span><span
              class="text-xs font-medium">MI</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="MUCHO" data-img="../img/mucho.png">
            <img src="../img/mucho.png" class="w-8 h-8 object-contain mb-1" /><span
              class="text-xs font-medium">MUCHO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="POCO" data-img="../img/poco.png">
            <img src="../img/poco.png" class="w-8 h-8 object-contain mb-1" /><span
              class="text-xs font-medium">POCO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="MÁS">
            <span class="material-icons-round text-3xl text-indigo-400">add</span><span
              class="text-xs font-medium">MÁS</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="SÍ" data-img="../img/respuestas/sí.png">
            <img src="../img/respuestas/sí.png" class="w-8 h-8 object-contain mb-1" /><span
              class="text-xs font-medium">SÍ</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="NO" data-img="../img/respuestas/no.png">
            <img src="../img/respuestas/no.png" class="w-8 h-8 object-contain mb-1" /><span
              class="text-xs font-medium">NO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="?">
            <span class="material-icons-round text-3xl text-indigo-400">?</span><span
              class="text-xs font-medium">?</span>
          </button>
        </div>
      </div>
    </section>

    <!-- TIEMPO -->
    <section class='mb-4'>
      <button type="button"
        class="w-full flex items-center justify-between px-4 py-3 rounded-xl bg-purple-100 text-purple-700 font-semibold text-lg mb-3 transition hover:bg-purple-200 focus:outline-none shadow-sm"
        data-toggle="collapse" data-target="#panel-tiempo">
        <span class="flex items-center">
          <span class="material-icons-round mr-2 text-purple-500 text-3xl">schedule</span>
          TIEMPO
        </span>
        <span class="material-icons-round transition-transform" id="icon-tiempo">expand_more</span>
      </button>
      <div id="panel-tiempo" class="transition-all duration-300 overflow-hidden" style="max-height:0;">
        <div class="flex flex-wrap gap-2 justify-center sm:justify-start">
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-purple-50 border border-purple-100"
            data-texto="HOY" data-img="../img/hoy.png">
            <img src="../img/hoy.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">HOY</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-purple-50 border border-purple-100"
            data-texto="MAÑANA" data-img="../img/mañana.png">
            <img src="../img/mañana.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">MAÑANA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-purple-50 border border-purple-100"
            data-texto="AYER" data-img="../img/ayer.png">
            <img src="../img/ayer.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">AYER</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-purple-50 border border-purple-100"
            data-texto="AHORA" data-img="../img/ahora.png">
            <img src="../img/ahora.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">AHORA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-purple-50 border border-purple-100"
            data-texto="DESPUÉS" data-img="../img/después.png">
            <img src="../img/después.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">DESPUÉS</span>
          </button>
        </div>
      </div>
    </section>

    <!-- PERSONAS Y FAMILIA -->
    <section class='mb-4'>
      <button type="button"
        class="w-full flex items-center justify-between px-4 py-3 rounded-xl bg-blue-100 text-blue-700 font-semibold text-lg mb-3 transition hover:bg-blue-200 focus:outline-none shadow-sm"
        data-toggle="collapse" data-target="#panel-personas">
        <span class="flex items-center">
          <img src="../img/familiares/familia.png" class="w-10 h-10 object-contain mr-2" />
          PERSONAS Y FAMILIA
        </span>
        <span class="material-icons-round transition-transform" id="icon-personas">expand_more</span>
      </button>
      <div id="panel-personas" class="transition-all duration-300 overflow-hidden" style="max-height:0;">
        <div class="flex flex-wrap gap-2 justify-center sm:justify-start">
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-blue-50 border border-blue-100"
            data-texto="YO" data-img="../img/familiares/yo.png">
            <img src="../img/familiares/yo.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">YO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-blue-50 border border-blue-100"
            data-texto="TÚ" data-img="../img/familiares/tú.png">
            <img src="../img/familiares/tú.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">TÚ</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-blue-50 border border-blue-100"
            data-texto="ÉL" data-img="../img/familiares/él.png">
            <img src="../img/familiares/él.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">ÉL</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-blue-50 border border-blue-100"
            data-texto="ELLA" data-img="../img/familiares/ella.png">
            <img src="../img/familiares/ella.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">ELLA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-blue-50 border border-blue-100"
            data-texto="MAMÁ" data-img="../img/familiares/mamá.png">
            <img src="../img/familiares/mamá.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">MAMÁ</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-blue-50 border border-blue-100"
            data-texto="PAPÁ" data-img="../img/familiares/papá.png">
            <img src="../img/familiares/papá.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">PAPÁ</span>
          </button>
          <!-- Se pueden agregar más familiares aquí si se desea -->
        </div>
      </div>
    </section>

    <!-- ACCIONES -->
    <section class='mb-4'>
      <button type="button"
        class="w-full flex items-center justify-between px-4 py-3 rounded-xl bg-green-100 text-green-700 font-semibold text-lg mb-3 transition hover:bg-green-200 focus:outline-none shadow-sm"
        data-toggle="collapse" data-target="#panel-acciones">
        <span class="flex items-center">
          <img src="../img/ir.png" class="w-10 h-10 object-contain mr-2" />
          ACCIONES
        </span>
        <span class="material-icons-round transition-transform" id="icon-acciones">expand_more</span>
      </button>
      <div id="panel-acciones" class="transition-all duration-300 overflow-hidden" style="max-height:0;">
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-green-50 border border-green-100"
            data-texto="IR" data-img="../img/ir.png">
            <img src="../img/ir.png" class="w-16 h-16 object-contain mb-1" /><span class="text-xs font-medium">IR</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-green-50 border border-green-100"
            data-texto="QUIERO" data-img="../img/yo quiero.png">
            <img src="../img/yo quiero.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">QUIERO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-green-50 border border-green-100"
            data-texto="NO QUIERO" data-img="../img/yo no quiero.png">
            <img src="../img/yo no quiero.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">NO QUIERO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-green-50 border border-green-100"
            data-texto="JUGAR" data-img="../img/acciones/jugar.png">
            <img src="../img/acciones/jugar.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">JUGAR</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-green-50 border border-green-100"
            data-texto="COMER" data-img="../img/necesidades/comer.png">
            <img src="../img/necesidades/comer.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">COMER</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-green-50 border border-green-100"
            data-texto="DORMIR" data-img="../img/acciones/dormir.png">
            <img src="../img/acciones/dormir.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">DORMIR</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-green-50 border border-green-100"
            data-texto="ESTUDIAR" data-img="../img/acciones/estudiar.png">
            <img src="../img/acciones/estudiar.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">ESTUDIAR</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-green-50 border border-green-100"
            data-texto="PINTAR" data-img="../img/pintar.png">
            <img src="../img/pintar.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">PINTAR</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-green-50 border border-green-100"
            data-texto="ESPERAR" data-img="../img/esperar.png">
            <img src="../img/esperar.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">ESPERAR</span>
          </button>
        </div>
      </div>
    </section>

    <!-- EMOCIONES (Actualizado de Construir Frases para completitud) -->
    <section class='mb-4'>
      <button type="button"
        class="w-full flex items-center justify-between px-4 py-3 rounded-xl bg-orange-100 text-orange-700 font-semibold text-lg mb-3 transition hover:bg-orange-200 focus:outline-none shadow-sm"
        data-toggle="collapse" data-target="#panel-emociones">
        <span class="flex items-center">
          <img src="../img/emociones/alegre.png" alt="EMOCIONES" class="w-10 h-10 object-contain mr-2" />
          EMOCIONES
        </span>
        <span class="material-icons-round transition-transform" id="icon-emociones">expand_more</span>
      </button>
      <div id="panel-emociones" class="transition-all duration-300 overflow-hidden" style="max-height:0;">
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-orange-50 border border-orange-100"
            data-texto="ALEGRE" data-img="../img/emociones/alegre.png">
            <img src="../img/emociones/alegre.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">ALEGRE</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-orange-50 border border-orange-100"
            data-texto="TRISTE" data-img="../img/emociones/triste.png">
            <img src="../img/emociones/triste.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">TRISTE</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-orange-50 border border-orange-100"
            data-texto="ENOJADO" data-img="../img/emociones/enfadado.png">
            <img src="../img/emociones/enfadado.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">ENOJADO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-orange-50 border border-orange-100"
            data-texto="SORPRENDIDO" data-img="../img/emociones/sorprendido.png">
            <img src="../img/emociones/sorprendido.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">SORPRENDIDO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-orange-50 border border-orange-100"
            data-texto="ASUSTADO" data-img="../img/emociones/asustado.png">
            <img src="../img/emociones/asustado.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">ASUSTADO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-orange-50 border border-orange-100"
            data-texto="DESANIMADO" data-img="../img/emociones/desanimado.png">
            <img src="../img/emociones/desanimado.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">DESANIMADO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-orange-50 border border-orange-100"
            data-texto="ABURRIDO" data-img="../img/emociones/aburrido.png">
            <img src="../img/emociones/aburrido.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">ABURRIDO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-orange-50 border border-orange-100"
            data-texto="DIVERTIDO" data-img="../img/emociones/divertido.png">
            <img src="../img/emociones/divertido.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">DIVERTIDO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-orange-50 border border-orange-100"
            data-texto="CANSADO" data-img="../img/emociones/cansado.png">
            <img src="../img/emociones/cansado.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">CANSADO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-orange-50 border border-orange-100"
            data-texto="CONTENTO" data-img="../img/emociones/contento.png">
            <img src="../img/emociones/contento.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">CONTENTO</span>
          </button>
        </div>
      </div>
    </section>

    <!-- SALUDOS Y SOCIAL -->
    <section class='mb-4'>
      <button type="button"
        class="w-full flex items-center justify-between px-4 py-3 rounded-xl bg-indigo-100 text-indigo-700 font-semibold text-lg mb-3 transition hover:bg-indigo-200 focus:outline-none shadow-sm"
        data-toggle="collapse" data-target="#panel-saludos">
        <span class="flex items-center">
          <img src="../img/saludos/saludo.png" alt="SALUDOS" class="w-10 h-10 object-contain mr-2" />
          SALUDOS Y SOCIAL
        </span>
        <span class="material-icons-round transition-transform" id="icon-saludos">expand_more</span>
      </button>
      <div id="panel-saludos" class="transition-all duration-300 overflow-hidden" style="max-height:0;">
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="HOLA" data-img="../img/saludos/hola.png">
            <img src="../img/saludos/hola.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">HOLA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="BUEN DÍA" data-img="../img/saludos/buenos días.png">
            <img src="../img/saludos/buenos días.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">BUEN DÍA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="BUENAS TARDES" data-img="../img/saludos/buenas tardes.png">
            <img src="../img/saludos/buenas tardes.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">BUENAS TARDES</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="CHAU" data-img="../img/saludos/adiós.png">
            <img src="../img/saludos/adiós.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">CHAU</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="POR FAVOR" data-img="../img/por favor.png">
            <img src="../img/por favor.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">POR FAVOR</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="GRACIAS" data-img="../img/respuestas/gracias.png">
            <img src="../img/respuestas/gracias.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">GRACIAS</span>
          </button>
        </div>
      </div>
    </section>

    <!-- ESPACIOS ESCOLARES -->
    <section class='mb-4'>
      <button type="button"
        class="w-full flex items-center justify-between px-4 py-3 rounded-xl bg-indigo-100 text-indigo-700 font-semibold text-lg mb-3 transition hover:bg-indigo-200 focus:outline-none shadow-sm"
        data-toggle="collapse" data-target="#panel-espacios">
        <span class="flex items-center">
          <img src="../img/espacios_escuela/espacios.png" alt="ESPACIOS" class="w-10 h-10 object-contain mr-2" />
          ESPACIOS ESCOLARES
        </span>
        <span class="material-icons-round transition-transform" id="icon-espacios">expand_more</span>
      </button>
      <div id="panel-espacios" class="transition-all duration-300 overflow-hidden" style="max-height:0;">
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="ESCUELA" data-img="../img/escuela.png">
            <img src="../img/escuela.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">ESCUELA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="AULA" data-img="../img/espacios_escuela/aula.png">
            <img src="../img/espacios_escuela/aula.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">AULA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="BAÑO" data-img="../img/espacios_escuela/baños.png">
            <img src="../img/espacios_escuela/baños.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">BAÑO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="PATIO" data-img="../img/escuela/recreo.png">
            <img src="../img/escuela/recreo.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">PATIO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="BIBLIOTECA" data-img="../img/espacios_escuela/biblioteca.png">
            <img src="../img/espacios_escuela/biblioteca.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">BIBLIOTECA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="DIRECCIÓN" data-img="../img/espacios_escuela/dirección.png">
            <img src="../img/espacios_escuela/dirección.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">DIRECCIÓN</span>
          </button>
        </div>
      </div>
    </section>

    <!-- MATERIALES Y ASIGNATURAS -->
    <section class='mb-4'>
      <button type="button"
        class="w-full flex items-center justify-between px-4 py-3 rounded-xl bg-indigo-100 text-indigo-700 font-semibold text-lg mb-3 transition hover:bg-indigo-200 focus:outline-none shadow-sm"
        data-toggle="collapse" data-target="#panel-materiales">
        <span class="flex items-center">
          <img src="../img/escuela/material escolar.png" alt="MATERIALES" class="w-10 h-10 object-contain mr-2" />
          MATERIALES/ASIGNATURAS
        </span>
        <span class="material-icons-round transition-transform" id="icon-materiales">expand_more</span>
      </button>
      <div id="panel-materiales" class="transition-all duration-300 overflow-hidden" style="max-height:0;">
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="LIBRO" data-img="../img/escuela/libro.png">
            <img src="../img/escuela/libro.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">LIBRO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="CUADERNO" data-img="../img/escuela/cuaderno.png">
            <img src="../img/escuela/cuaderno.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">CUADERNO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="LÁPIZ" data-img="../img/escuela/lápiz.png">
            <img src="../img/escuela/lápiz.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">LÁPIZ</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="CRAYONES" data-img="../img/escuela/pinturas.png">
            <img src="../img/escuela/pinturas.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">CRAYONES</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="LAPICERA" data-img="../img/escuela/bolígrafo.png">
            <img src="../img/escuela/bolígrafo.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">LAPICERA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="HOJAS" data-img="../img/escuela/papeles.png">
            <img src="../img/escuela/papeles.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">HOJAS</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="SACAPUNTAS" data-img="../img/escuela/sacapuntas.png">
            <img src="../img/escuela/sacapuntas.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">SACAPUNTAS</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="MESA" data-img="../img/escuela/mesa de colegio.png">
            <img src="../img/escuela/mesa de colegio.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">MESA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="SILLA" data-img="../img/escuela/silla de colegio.png">
            <img src="../img/escuela/silla de colegio.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">SILLA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="PIZARRÓN" data-img="../img/escuela/pizarrón.png">
            <img src="../img/escuela/pizarrón.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">PIZARRÓN</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="CARPETA" data-img="../img/escuela/carpeta con anillos.png">
            <img src="../img/escuela/carpeta con anillos.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">CARPETA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="BORRADOR" data-img="../img/escuela/borrador.png">
            <img src="../img/escuela/borrador.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">BORRADOR</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="REGLA" data-img="../img/escuela/regla.png">
            <img src="../img/escuela/regla.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">REGLA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="ESCUADRA" data-img="../img/escuela/escuadra.png">
            <img src="../img/escuela/escuadra.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">ESCUADRA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="RÓTULO" data-img="../img/escuela/etiqueta.png">
            <img src="../img/escuela/etiqueta.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">RÓTULO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="TIZA" data-img="../img/escuela/tiza.png">
            <img src="../img/escuela/tiza.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">TIZA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="RESALTADOR" data-img="../img/escuela/rotulador.png">
            <img src="../img/escuela/rotulador.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">RESALTADOR</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="PLASTILINA" data-img="../img/escuela/plastilina.png">
            <img src="../img/escuela/plastilina.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">PLASTILINA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="TIJERA" data-img="../img/escuela/tijeras.png">
            <img src="../img/escuela/tijeras.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">TIJERA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="PLASTICOLA" data-img="../img/escuela/cola.png">
            <img src="../img/escuela/cola.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">PLASTICOLA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="GOMA" data-img="../img/escuela/goma.png">
            <img src="../img/escuela/goma.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">GOMA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="TÉMPERA" data-img="../img/escuela/témperas.png">
            <img src="../img/escuela/témperas.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">TÉMPERA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="PINTURA" data-img="../img/escuela/pintura.png">
            <img src="../img/escuela/pintura.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">PINTURA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="PINCEL" data-img="../img/escuela/pincel.png">
            <img src="../img/escuela/pincel.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">PINCEL</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="CARTULINA" data-img="../img/escuela/cartulina.png">
            <img src="../img/escuela/cartulina.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">CARTULINA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="PAPEL" data-img="../img/escuela/papel.png">
            <img src="../img/escuela/papel.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">PAPEL</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="CARTUCHERA" data-img="../img/escuela/cartuchera.png">
            <img src="../img/escuela/cartuchera.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">CARTUCHERA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="MOCHILA" data-img="../img/escuela/mochila.png">
            <img src="../img/escuela/mochila.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">MOCHILA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="CUENTO" data-img="../img/escuela/cuento.png">
            <img src="../img/escuela/cuento.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">CUENTO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="MATEMÁTICA" data-img="../img/escuela/clase de matemáticas.png">
            <img src="../img/escuela/clase de matemáticas.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">MATEMÁTICA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="LENGUA" data-img="../img/escuela/clase de lengua y literatura.png">
            <img src="../img/escuela/clase de lengua y literatura.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">LENGUA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="CIENCIAS SOCIALES" data-img="../img/escuela/ciencias sociales.png">
            <img src="../img/escuela/ciencias sociales.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">CIENCIAS SOCIALES</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="CIENCIAS NATURALES" data-img="../img/escuela/naturales.png">
            <img src="../img/escuela/naturales.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">CIENCIAS NATURALES</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="MÚSICA" data-img="../img/escuela/clase de música.png">
            <img src="../img/escuela/clase de música.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">MÚSICA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="EDUCACIÓN FÍSICA" data-img="../img/escuela/educación física.png">
            <img src="../img/escuela/educación física.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">ED. FÍSICA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="ARTE" data-img="../img/escuela/arte.png">
            <img src="../img/escuela/arte.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">ARTE</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="TECNOLOGÍA" data-img="../img/escuela/clase de tecnología.png">
            <img src="../img/escuela/clase de tecnología.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">TECNOLOGÍA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="INGLÉS" data-img="../img/escuela/inglés.png">
            <img src="../img/escuela/inglés.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">INGLÉS</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="RECREO" data-img="../img/escuela/recreo.png">
            <img src="../img/escuela/recreo.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">RECREO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="YO SOY" data-img="../img/escuela/yoga.png">
            <img src="../img/escuela/yoga.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">YO SOY</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="PROYECTO" data-img="../img/escuela/proyecto.png">
            <img src="../img/escuela/proyecto.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">PROYECTO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="EFEMÉRIDES" data-img="../img/escuela/calendario.png">
            <img src="../img/escuela/calendario.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">EFEMÉRIDES</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="GEOMETRÍA" data-img="../img/escuela/clase de geometría.png">
            <img src="../img/escuela/clase de geometría.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">GEOMETRÍA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="SUSTENTABILIDAD" data-img="../img/escuela/huerta.png">
            <img src="../img/escuela/huerta.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">SUSTENTABILIDAD</span>
          </button>
        </div>
      </div>
    </section>

    <!-- PERSONAL -->
    <section class='mb-4'>
      <button type="button"
        class="w-full flex items-center justify-between px-4 py-3 rounded-xl bg-indigo-100 text-indigo-700 font-semibold text-lg mb-3 transition hover:bg-indigo-200 focus:outline-none shadow-sm"
        data-toggle="collapse" data-target="#panel-personal">
        <span class="flex items-center">
          <img src="../img/personal_escuela/personas.png" alt="PERSONAL" class="w-10 h-10 object-contain mr-2" />
          PERSONAL ESCOLAR
        </span>
        <span class="material-icons-round transition-transform" id="icon-personal">expand_more</span>
      </button>
      <div id="panel-personal" class="transition-all duration-300 overflow-hidden" style="max-height:0;">
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="SEÑO" data-img="../img/personal_escuela/maestra.png">
            <img src="../img/personal_escuela/maestra.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">SEÑO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="PROFE" data-img="../img/personal_escuela/profesor.png">
            <img src="../img/personal_escuela/profesor.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">PROFE</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="DIRECTORA" data-img="../img/personal_escuela/directora.png">
            <img src="../img/personal_escuela/directora.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">DIRECTORA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="PORTERA" data-img="../img/personal_escuela/maestranza.png">
            <img src="../img/personal_escuela/maestranza.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">PORTERA</span>
          </button>
        </div>
      </div>
    </section>

    <!-- NECESIDADES -->
    <section class='mb-4'>
      <button type="button"
        class="w-full flex items-center justify-between px-4 py-3 rounded-xl bg-indigo-100 text-indigo-700 font-semibold text-lg mb-3 transition hover:bg-indigo-200 focus:outline-none shadow-sm"
        data-toggle="collapse" data-target="#panel-necesidades">
        <span class="flex items-center">
          <img src="../img/necesidades/necesidades.png" alt="NECESIDADES" class="w-10 h-10 object-contain mr-2" />
          ASISTENCIA / NECESIDADES
        </span>
        <span class="material-icons-round transition-transform" id="icon-necesidades">expand_more</span>
      </button>
      <div id="panel-necesidades" class="transition-all duration-300 overflow-hidden" style="max-height:0;">
        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="NECESITO IR AL BAÑO" data-img="../img/necesidades/baños.png">
            <img src="../img/necesidades/baños.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium text-center">IR AL BAÑO</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="AGUA" data-img="../img/necesidades/beber_agua.png">
            <img src="../img/necesidades/beber_agua.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">AGUA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="AYUDA" data-img="../img/necesidades/ayuda.png">
            <img src="../img/necesidades/ayuda.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">AYUDA</span>
          </button>
          <button
            class="pictograma-btn flex flex-col items-center bg-white rounded-xl shadow px-3 py-2 hover:bg-indigo-50 border border-indigo-100"
            data-texto="TENGO FRÍO" data-img="../img/necesidades/tener frío.png">
            <img src="../img/necesidades/tener frío.png" class="w-16 h-16 object-contain mb-1" /><span
              class="text-xs font-medium">TENGO FRÍO</span>
          </button>
        </div>
      </div>
    </section>

  </main>

  <footer
    class="fixed bottom-0 left-0 bg-white border-t border-gray-200 shadow-t-sm w-full text-center text-sm text-gray-500 py-2">
    © 2025 Sanba Voz App - Uso Educativo
  </footer>

  <script>
    // --- Lógica de Construcción de Frases ---
    const fraseConstruida = [];
    const zonaFrase = document.getElementById('frase-construida');
    const btnReproducir = document.getElementById('btn-reproducir-frase');
    const btnBorrar = document.getElementById('btn-borrar-frase');

    // Inicializar eventos para botones de pictogramas (delegación o asignación directa)
    function inicializarBotonesPictogramas() {
      // Remover listeners anteriores si los hubiera para evitar duplicados (aunque aquí se carga una vez)
      document.querySelectorAll('.pictograma-btn').forEach(btn => {
        // Clonar para eliminar listeners previos si se re-inicializa
        const newBtn = btn.cloneNode(true);
        btn.parentNode.replaceChild(newBtn, btn);

        newBtn.addEventListener('click', () => {
          const texto = newBtn.dataset.texto;
          const imgSrc = newBtn.dataset.img;
          fraseConstruida.push({ texto, imgSrc });
          renderFrase();

          // Feedback visual click
          newBtn.classList.add('ring-2', 'ring-offset-2', 'ring-indigo-400');
          setTimeout(() => newBtn.classList.remove('ring-2', 'ring-offset-2', 'ring-indigo-400'), 200);
        });
      });
    }

    // Renderizar la frase construida
    function renderFrase() {
      if (!zonaFrase) return;
      zonaFrase.innerHTML = '';
      // Ajusta el tamaño según la cantidad de pictogramas
      let imgSize = "w-10 h-10";
      let textSize = "text-xs";
      if (fraseConstruida.length > 12) {
        imgSize = "w-8 h-8";
        textSize = "text-[10px]";
      }
      if (fraseConstruida.length > 16) {
        imgSize = "w-6 h-6";
        textSize = "text-[8px]";
      }

      fraseConstruida.forEach((item, idx) => {
        const div = document.createElement('div');
        div.className = "frase-picto flex flex-col items-center flex-shrink-0 bg-white p-1 rounded border border-gray-200";
        if (item.imgSrc) {
          const img = document.createElement('img');
          img.src = item.imgSrc;
          img.className = `${imgSize} object-contain`;
          div.appendChild(img);
        }
        const span = document.createElement('span');
        span.textContent = item.texto;
        span.className = `${textSize} font-medium mt-1 whitespace-nowrap`;
        div.appendChild(span);

        // Eliminar pictograma individual al hacer click
        div.addEventListener('click', () => {
          fraseConstruida.splice(idx, 1);
          renderFrase();
        });
        zonaFrase.appendChild(div);
      });

      // Auto-scroll al final
      zonaFrase.scrollLeft = zonaFrase.scrollWidth;
    }

    if (btnReproducir) {
      btnReproducir.addEventListener('click', () => {
        const frase = fraseConstruida.map(item => item.texto).join(' ');
        if (frase) hablar(frase);
      });
    }

    if (btnBorrar) {
      btnBorrar.addEventListener('click', () => {
        fraseConstruida.length = 0;
        renderFrase();
      });
    }

    // --- Lógica de Voz ---
    function getVozPorURI(uri) {
      const voices = window.speechSynthesis.getVoices();
      return voices.find(v => v.voiceURI === uri) || voices.find(v => v.lang.startsWith('es')) || voices[0];
    }

    function hablar(texto) {
      if (texto === texto.toUpperCase() && /[a-záéíóúñü]/i.test(texto)) {
        texto = texto.toLowerCase();
      }
      const synth = window.speechSynthesis;
      const vozURI = localStorage.getItem('voz-preferencia-uri');

      function speakWithVoice() {
        const vozElegida = vozURI ? getVozPorURI(vozURI) : (synth.getVoices().find(v => v.lang.startsWith('es')) || synth.getVoices()[0]);
        const mensaje = new SpeechSynthesisUtterance(texto);
        mensaje.lang = 'es-ES';
        if (vozElegida) mensaje.voice = vozElegida;
        synth.speak(mensaje);
      }

      if (synth.getVoices().length === 0) {
        synth.addEventListener('voiceschanged', function handler() {
          speakWithVoice();
          synth.removeEventListener('voiceschanged', handler);
        });
      } else {
        speakWithVoice();
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      // Inicializar botones
      inicializarBotonesPictogramas();

      // Colapsar secciones
      document.querySelectorAll('[data-toggle="collapse"]').forEach(btn => {
        btn.addEventListener('click', function () {
          const target = document.querySelector(this.getAttribute('data-target'));
          const icon = this.querySelector('.material-icons-round');
          if (target.style.maxHeight && target.style.maxHeight !== "0px") {
            target.style.maxHeight = "0";
            icon.style.transform = '';
          } else {
            // Calcular altura total incluyendo grids anidados si los hay
            target.style.maxHeight = target.scrollHeight + "px";
            icon.style.transform = 'rotate(180deg)';
          }
        });
      });

      // Expandir/Contraer todas las categorías
      const btnExpandirTodo = document.getElementById('btn-expandir-todo');
      let todoExpandido = false;
      if (btnExpandirTodo) {
        btnExpandirTodo.addEventListener('click', () => {
          const botones = document.querySelectorAll('[data-toggle="collapse"]');
          botones.forEach(btn => {
            const target = document.querySelector(btn.getAttribute('data-target'));
            const icon = btn.querySelector('.material-icons-round');
            if (!todoExpandido) {
              target.style.maxHeight = target.scrollHeight + "px";
              icon.style.transform = 'rotate(180deg)';
            } else {
              target.style.maxHeight = "0";
              icon.style.transform = '';
            }
          });
          todoExpandido = !todoExpandido;
          document.getElementById('icon-expandir-todo').textContent = todoExpandido ? "unfold_less" : "unfold_more";
        });
      }
    });
  </script>
</body>

</html>